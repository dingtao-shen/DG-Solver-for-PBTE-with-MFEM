# Project-wide clangd configuration
#
# This config is safe even在使用 mpicxx/mpic++ 等包装编译器时；当你的构建系统
# 生成 compile_commands.json 后，clangd 会优先使用其中的每个文件的精确编译命令。
#
# 参考: https://clangd.llvm.org/config

If:
  PathMatch: [".*"]

CompileFlags:
  # 为所有文件追加通用标志（不与编译数据库冲突）
  Add: [-std=c++20]

# 对系统/包装编译器查询系统头路径，避免“未知驱动/找不到标准库头”
QueryDriver:
  - /usr/bin/clang++
  - /usr/bin/clang
  - /usr/bin/g++
  - /usr/bin/gcc
  - /usr/bin/mpic++
  - /usr/bin/mpicxx

# 未在编译数据库中的零散文件的兜底参数
FallbackFlags: [-std=c++20]

Index:
  Background: true

Diagnostics:
  ClangTidy:
    # 常用、对数值计算项目友好的规则集（可在 .clang-tidy 中细化）
    Add: [clang-analyzer-*, bugprone-*, performance-*, modernize-*, readability-*]

InlayHints:
  Enabled: true
  ParameterNames: true
  DeducedTypes: true

Hover:
  ShowAKA: true


